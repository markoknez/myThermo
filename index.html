<!DOCTYPE html>
<html>
<head>
	<title>Termostat chart</title>
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
  <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
  <script type="text/javascript" src="b64.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
  <script type="text/javascript" src="d3tip.js"></script>
	<link rel="stylesheet" type="text/css" href="site.css">
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
</head>
<body ng-app='thermo'>      
    <div class="container" ng-controller="test">
      
      <!-- <div ng-repeat="(i, chart) in charts"> -->
        <h3>Chart 1</h3>      
        <div id="chartPlaceholder"></div>
      <!-- </div> -->

      <div class="btn-toolbar">
        <button type="button" ng-repeat="(i, day) in days" class="btn btn-xs" ng-class="{'btn-default':!dayEnabled(i), 'btn-success':dayEnabled(i)}" ng-click="toggleDay(i)">{{day}}</button>
      </div>

      <h3>Status</h3>
      <table class="table">
        <tr>
          <th>key</th>
          <th>value</th>
        </tr>
        <tr ng-repeat="(key, value) in status">
          <td>{{key}}</td>
          <td>{{value}}</td>
        </tr>
      </table>

      <div class="form-inline">
        <div class="form-group">
          <label>Time offset:</label>
          <input class="form-control" ng-model="status.time_offset"></input>
          <button class="btn btn-primary" ng-click="setOffset(status.time_offset)"><span class="glyphicon glyphicon-floppy-disk"></span></button>      
        </div>
      </div>

      <div class="form-inline">
        <div class="form-group">
          <label>Manual temp:</label>
          <input class="form-control" ng-model="status.manual_temp"></input>
          <button class="btn btn-primary" ng-click="setManualTemp(status.manual_temp)"><span class="glyphicon glyphicon-floppy-disk"></span></button>
        </div>
      </div>

      <button class="btn btn-primary" ng-click="toggleMode()">Set {{ (status.temperatureMode == 'automatic')?'manual':'automatic' }} mode</button>      
      <button class="btn btn-primary" ng-click="refresh()"><span class="glyphicon glyphicon-refresh"></span>Refresh</button>
      <button class="btn btn-danger" ng-click="save(data)"><span class="glyphicon glyphicon-floppy-disk"></span>Save</button>
      
    </div>
    <script type="text/javascript" src="angular.js"></script>
    <script type="text/javascript" src="script.js"></script>    
</body>
</html>
